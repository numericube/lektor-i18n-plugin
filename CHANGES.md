# Changelog

## 0.5.0

### Breaking changes

- Drop Python 2 compatibility
- Process translations in `on_before_build_all` hook to avoid the need for
  multiple builds, with the caveat of dropping support for processing
  translations on the fly with `lektor serve`.

### Improvements

- Limit translation to fields marked for translation to avoid unintended
  translations
- Translate all flowblocks even when nested
- Exclude markdown list and heading prefixes in translation strings
- Replace "(dynamic)" POT location hints with "filename:line" generated by pybabel
- Drop redundant +alt suffix in POT location hints for content files
- Convert package to PDM build system

### Bugs fixed

- Fix POT header leakage with Python >= 3.8
- Fix unclosed file error message at the end of the build
